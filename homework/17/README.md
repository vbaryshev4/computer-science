# 17

## MVC

### Доделать роутер

В роутере есть маршрут: `@app.route('/file/<path:file_path>')` , нужно сделать обработку этого маршрута таким же путем, как сделан первый маршрут. 

 - Выделить функцию, которая получает данные;
 - Написать шаблон;
 - Написать контроллер, который связует все воедино
 

### Класс controller

Нужно разработать специальный класс `Controller`, который принимает в качестве аргументов 2 вещи: 
 - функцию, которая "достает данные" - это любая функция, которая возвращает структуру данныъ
 - функция-шаблон, которая принимает эти данные и рендерит из них HTML-строку

```python
def get_data(http_request):
    return {
        'greeting': 'Hello, World!'
    }


def index_template(data):
    return html([
        head([
            title('index'),
        ]),
        body([
            h1(data.greeting)
        ])
    ])

index_controller = Controller(get_data, index_template)
```

У объектов класса `Controller` должен быть метод `process`. Когда роутер получает http-запрос, он вызывает метод `process` объекта `index_controller` и передает туда сырой http-запрос. Далее отвечает браузеру:

```html
<html>
    <head>
        <title>index</title>
    </head>
    <body>
        <h1>Hello, World!</h1>
    </body>
</html>
```

#### Спецификация класса

Класс определяется двумя функциями: 
 - функция получения данных
 - функция отрисовки шаблона из данных

Класс поддерживает метод `process` - который получает данные и отрисовывает из них шаблон. 
