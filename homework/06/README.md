# 06

## Области видимости

Что произойдет если выполнить следующий код? Почему? 

1.
```python
a = 10

def fn():
    print(a)
    a = 20

fn()
```

2.
```python
a = 10

def fn():
    a = 20
    print(a)

fn()
print(a)
```

3. 
```python
a = 10

def fn():
    global a
    a = 20
    print(a)

fn()
print(a)
```

## Замыкания

1. Что такое замыкание?

2. Что произойдет если выполнить этот код
```python
def fn1(a):
    def fn2():
        return a
    a += 10
    return fn2

f = fn1(10)
f() 
```

2. Как пользоваться этим замыканием, что оно делает?
```python
def closure(a):
    def fn(b):
        return a + b

add10 = closure(10)
```

## Функции высшего порядка

Для начала допустим у нас есть список пользователей следующего вида:

```
data = [
    {
        'age': <Int>,
        'name': <String>,
        'username': <String>,
    },
    ...
]
```

## Фильтрация

Предположим, что нам нужно написать функцию-фильтр. Это такая функция, которая фильтрует данный список по функции-предикату. Функция-предикат, это такая функция которая возвращает True или False. Например: 

```python
def is_user_over_18(user):
    return user.get('age') > 18
```

Такой предикат возвращает True, если у данного аргумента свойство `'age'` больше 18

Теперь напишем `filter`:

```python
def filter(predicate, fn):
    pass

users_over_18 = filter(is_user_over_18, data)  #список всех пользователей старше 18
```

Напиши функцию `filter`

## Преобразование

Частой задачей является преобразование списка. Например у нас есть список чисел и нам нужно получить список их квадратов: 

`[1, 2, 3, 4] -> [1, 4, 9, 16]`

Хотелось бы иметь специальную функцию, которая бы применяла данную функцию к каждому элементу в списке.

```python
def square(number):
    return number ** 2

def map(mapper, fn):
    pass

squares = map(square, [1, 2, 3, 4])
```

Напиши функцию `map`
