# 08

## HTTP Сервер


> Запуск сервера:
> 1) python app/__init__.py
> 2) открыть в браузере – http://127.0.0.1:8080/


Нужно реализовать следующую фичу для сервера: 

При получении GET запроса по пути `/pkgs/`, сервер должен считывать содержимое дирректории pkgs и показать ответить браузеру отформатированным списком всех пакетов в `pkgs`. Т.е. в нашем случае это будет что-то вроде: 

```html
<h2>Список пакетов:</h2>
<ul>
    <li>calc</li>
    <li>func</li>
    <li>lists</li>
    <li>strings</li>
    <li>tester</li>
</ul>
```

<b>* Задание со звездочкой: показывать рядом с именем пакета еще и количество модулей внутри пакета (исключая __init__.py)</b>

## Что нужно прочитать, чтобы выполнить это задание

Общее: 
 1. [Про работу с операционной системой в Python](https://docs.python.org/2/library/os.html)
 2. [Про работу с файловой системой в Python](https://docs.python.org/3/library/filesys.html)

Конкретное:
 1. [os.listdit](https://docs.python.org/2/library/os.html#os.listdir) или [os.walk](https://docs.python.org/3/library/os.html#os.walk)
 2. [Короткий мануал по работе с файлами в Python](https://www.saltycrane.com/blog/2008/04/working-with-files-and-directories-in/)

### Почитать и ответить на вопросы

 1. Про типы HTTP запросов (GET/POST/PATH/...)
    GET — получение ресурса
    POST — создание ресурса
    PUT — обновление ресурса
    DELETE — удаление ресурса

 2. Из чего состоит URL


## Подготовка к созданию полноценного CLI

1. Написать короткий скрипт, который превращает аргументы коммандной строки в словарь. Напоминаю, что аргументы скриптом получаются через `sys.argv`. Пример: 

```
$ python args.py -t 10 --argument-name some_name -x -n hello
{
    't': '10',
    'argument_name': 'some_name',
    'x': True,
    'n': 'hello',
}
```

или 

```
$python args.py -key1 value1 -key2 value2 --key3 value3
{
    'key1': 'value1',
    'key2': 'value2',
    'key4': 'value3',
}
```

Идея такая: передаются аргументы в виде `-ключ значение`. Они попадают в словарь в виде: 

```python
{
    'ключ': 'значение'
}
```

**Некоторые условия:**
 1. У ключа обязательно в начале должно быть либо 1 либо 2 знака `-`, но в результирующий словарь эти минусы не должны попадать. 
 2. У значений ключей знаки `-` должны превращаться в `_`, т.е. `some-name` -> `some_name`
 3. Если у ключа нет значения, то в словаре у него значение будет True


 ##### Самостоятельное задание:

 1. Как работает обработка ошибок?
 2. Как работает функция format?
 3. Почитать про теги html
 4. Читать. Разъяснение http2, История, протокол, реализации и будущее